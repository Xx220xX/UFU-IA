<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabela Bootstrap</title>
    <!-- Inclua os arquivos CSS e JS do Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container mt-5">
    <h2>Tabela Bootstrap</h2>
    <table class="table table-dark" id="tabelaDatasets">
        <thead>
        <tr>
            <th>Nome</th>
            <th>Número de neurônios na entrada</th>
            <th>Número de neurônios na saída</th>
        </tr>
        </thead>
        <tbody>
        <!-- Adicione mais linhas conforme necessário -->
        </tbody>
    </table>
</div>
<footer class="text-center mt-4">
    <p>Trabalho de Redes Neurais</p>
    <p>Alunos: Henrique e Lesly</p>
</footer>
<script>
    const tabela = document.getElementById("tabelaDatasets");
    const tbody = tabela.children[1];
    let datasets = [];

    function handleRowClick(element) {
        const rowIndex = element.getAttribute('data-index');
        const dataset = datasets[rowIndex];
        window.location.href = `/dataset/${dataset.id}`;
    }

    fetch('/datasets', {
        method: 'GET',
        headers: {'Content-Type': 'application/json'},
    }).then(response => response.json())
        .then(response => {
            console.log(response)

            datasets = response;
            tbody.innerHTML = '';

            for (let i in datasets) {
                const dataset = datasets[i];
                const row = document.createElement('tr');
                row.setAttribute('data-index', i); // Define um atributo para identificar a linha
                row.addEventListener('click', () => handleRowClick(row));
                row.innerHTML = `
                <td>${dataset.name}</td>
                <td>${dataset.nro_entrada}</td>
                <td>${dataset.nro_saida}</td>
            `;
                tbody.appendChild(row);
            }
        })
        .catch(err => console.error(err));
</script>
</body>
</html>
